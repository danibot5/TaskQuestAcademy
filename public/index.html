<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ScriptSensei, —Ç–≤–æ—è—Ç JS –£—á–∏—Ç–µ–ª</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="images/bot-avatar.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/eclipse.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/editor.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/tablet.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <meta name="description"
        content="ScriptSensei - –¢–≤–æ—è—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ–Ω AI –º–µ–Ω—Ç–æ—Ä –ø–æ JavaScript. –£—á–∏, –ø–∏—à–∏ –∫–æ–¥ –∏ –ø–æ–ª—É—á–∞–≤–∞–π —Å—ä–≤–µ—Ç–∏ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ.">
    <meta property="og:title" content="ScriptSensei - –¢–≤–æ—è—Ç JS –£—á–∏—Ç–µ–ª">
    <meta property="og:description" content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ–Ω —á–∞—Ç —Å AI, —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ –∫–æ–¥ –∏ –∑–∞–¥–∞—á–∏. –ó–∞–ø–æ—á–Ω–∏ –¥–∞ —É—á–∏—à –¥–Ω–µ—Å!">
    <meta property="og:image" content="images/bot-avatar.png">
    <meta property="og:url" content="https://scriptsensei-4e8fe.web.app">
    <meta name="theme-color" content="#1a73e8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ScriptSensei">
    <link rel="apple-touch-icon" href="images/icon-192.png">
</head>

<body>
    <div id="sidebar" class="sidebar">
        <div class="sidebar-content-wrapper">

            <div class="sidebar-header">
                <span>–ü—Ä–æ—Ñ–∏–ª</span>
                <button id="close-sidebar">‚úï</button>
            </div>

            <div id="user-section" class="user-section">
                <div id="guest-buttons">
                    <button id="open-register-btn" class="auth-btn secondary-btn">
                        –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    </button>
                    <button id="open-login-btn" class="auth-btn google-btn">
                        –í—Ö–æ–¥
                    </button>
                </div>

                <div id="user-info" class="user-info">
                    <img id="user-avatar" src="" alt="User" class="user-avatar-img">
                    <div class="user-details">
                        <span id="user-name">Guest</span>
                        <button id="logout-btn" class="logout-link">–ò–∑—Ö–æ–¥</button>
                    </div>
                </div>
            </div>

            <div class="sidebar-divider"></div>

            <div class="history-header">
                <div class="section-title">–ò—Å—Ç–æ—Ä–∏—è</div>

                <div class="search-wrapper" id="search-wrapper">
                    <input type="text" id="search-input" placeholder="–¢—ä—Ä—Å–∏..." autocomplete="off">
                    <button id="search-toggle-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="chat-list"></div>

            <div class="sidebar-divider"></div>

            <div class="pro-card">
                <div class="pro-bg-shine"></div>
                <div class="pro-content">
                    <div class="pro-header">
                        <span class="pro-icon">üíé</span>
                        <span class="pro-title">ScriptSensei <strong>PRO</strong></span>
                    </div>
                    <p class="pro-desc">–û—Ç–∫–ª—é—á–∏ –ø—ä–ª–Ω–∞—Ç–∞ –º–æ—â <br>GEMINI 2.5 PRO –ò –û–©–ï –ú–ù–û–ì–û</p>
                    <button id="buy-pro-sidebar" class="pro-btn">üíé –í–∑–µ–º–∏ PRO</button>
                </div>
            </div>

            <button id="new-chat-btn">–ó–∞–ø–æ—á–Ω–∏ –Ω–æ–≤ —á–∞—Ç</button>

        </div>
    </div>

    <div class="chat-panel">

        <div class="top-bar">
            <button id="menu-btn" title="–û—Ç–≤–æ—Ä–∏/–ó–∞—Ç–≤–æ—Ä–∏ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="9" y1="3" x2="9" y2="21"></line>
                </svg>
            </button>

            <span class="brand-name">ScriptSensei</span>

            <button id="top-new-chat-btn" class="icon-btn top-new-chat-btn" title="–ó–∞–ø–æ—á–Ω–∏ –Ω–æ–≤ —á–∞—Ç">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                </svg>
            </button>

            <div class="header-actions" style="margin-left: auto; display: flex; gap: 5px; align-items: center;">
                <select id="model-selector"
                    style="display: none; background: #2d2d2d; color: white; border: 1px solid #444; border-radius: 6px; padding: 5px; font-size: 12px; margin-right: 5px; cursor: pointer;">
                    <option value="flash">‚ö° Flash (–ë—ä—Ä–∑)</option>
                    <option value="pro">üß† Pro (–£–º–µ–Ω)</option>
                </select>

                <button id="mobile-editor-toggle" class="icon-btn" style="margin-left: auto;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="16 18 22 12 16 6"></polyline>
                        <polyline points="8 6 2 12 8 18"></polyline>
                    </svg>
                </button>

                <button id="mute-btn" class="icon-btn" title="–°–ø—Ä–∏ –∑–≤—É–∫–∞">
                </button>

                <button id="share-btn" class="icon-btn" title="–°–ø–æ–¥–µ–ª–∏ —á–∞—Ç–∞">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                        <polyline points="16 6 12 2 8 6"></polyline>
                        <line x1="12" y1="2" x2="12" y2="15"></line>
                    </svg>
                </button>

                <div id="share-and-theme-divider"></div>
                <button id="theme-toggle" class="icon-btn" title="–°–º–µ–Ω–∏ —Ç–µ–º–∞—Ç–∞">
                    üåô
                </button>
            </div>
        </div>

        <div id="chat-history">
        </div>

        <div class="input-wrapper">
            <div class="input-container">

                <div id="attachment-preview-list" class="attachment-list" style="display: none;">
                </div>

                <div class="input-controls-row">
                    <input type="file" id="file-input" style="display: none;" multiple
                        accept=".jpg,.jpeg,.png,.webp,.pdf,.js,.txt,.html,.css,.json">

                    <button id="attach-btn" class="icon-btn" title="–ö–∞—á–∏ —Ñ–∞–π–ª">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>

                    <textarea id="user-input" placeholder="–ü–∏—Ç–∞–π –º–µ –Ω–µ—â–æ..." rows="1"></textarea>

                    <button id="mic-btn" class="icon-btn" title="–ì–æ–≤–æ—Ä–∏">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>

                    <button id="send-btn" class="send-btn-primary" title="–ò–∑–ø—Ä–∞—Ç–∏">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="19" x2="12" y2="5"></line>
                            <polyline points="5 12 12 5 19 12"></polyline>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="disclaimer">ScriptSensei –º–æ–∂–µ –¥–∞ –≥—Ä–µ—à–∏. –ü—Ä–æ–≤–µ—Ä—è–≤–∞–π –∫–æ–¥–∞.</div>
        </div>
    </div>

    <div class="code-panel">
        <div class="editor-header">
            <button id="close-mobile-editor" class="icon-btn mobile-only-btn" style="margin-right: 10px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="19" y1="12" x2="5" y2="12"></line>
                    <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
            </button>

            <span>JavaScript Editor</span>
            <span class="status-dot"></span>
        </div>

        <textarea id="code-editor" spellcheck="false">// –¢–≤–æ—è—Ç –∫–æ–¥ —â–µ —Å–µ –ø–æ—è–≤–∏ —Ç—É–∫...</textarea>

        <div class="controls">
            <button id="run-btn" class="run-btn">‚ñ∂ –ò–∑–ø—ä–ª–Ω–∏ –∫–æ–¥–∞</button>
            <button id="analyze-btn" class="analyze-btn">–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–π</button>
            <button id="fix-btn" class="fix-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <path d="M8.5 13.5l2 2l4 -4"></path>
                </svg>
                Auto-Fix
            </button>
            <button id="download-btn" class="download-btn" title="–ò–∑—Ç–µ–≥–ª–∏ –∫–∞—Ç–æ .js —Ñ–∞–π–ª">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 10 12 15 17 10"></polyline>
                    <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                .js
            </button>
        </div>

        <div id="console-output" class="console">
            <div class="console-label">Console Output:</div>
        </div>
    </div>

    <div id="register-modal" class="modal-overlay">
        <div class="modal-box">
            <span class="close-modal">&times;</span>
            <h2>–°—ä–∑–¥–∞–π –∞–∫–∞—É–Ω—Ç</h2>
            <p>–°—Ç–∞–Ω–∏ —á–∞—Å—Ç –æ—Ç ScriptSensei</p>

            <div class="input-group">
                <input type="text" id="reg-name" placeholder="–¢–≤–æ–µ—Ç–æ –ò–º–µ">
            </div>
            <div class="input-group">
                <input type="email" id="reg-email" placeholder="Email –∞–¥—Ä–µ—Å">
            </div>
            <div class="input-group">
                <input type="password" id="reg-password" placeholder="–ü–∞—Ä–æ–ª–∞ (–º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–∞)">
            </div>

            <button id="perform-register-btn" class="modal-btn">–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π –º–µ</button>
            <div id="reg-error" class="error-msg"></div>
        </div>
    </div>

    <div id="login-modal" class="modal-overlay">
        <div class="modal-box">
            <span class="close-modal">&times;</span>
            <h2>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞</h2>

            <button id="google-login-btn" class="google-auth-btn">
                <svg width="18" height="18" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27c3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12.5S6.42 23 12.1 23c5.83 0 8.84-4.15 8.84-8.83c0-.46-.03-.91-.08-1.37z" />
                </svg>
                –í–ª–µ–∑ —Å Google
            </button>

            <div class="divider">–∏–ª–∏ —Å –∏–º–µ–π–ª</div>

            <div class="input-group">
                <input type="email" id="login-email" placeholder="Email –∞–¥—Ä–µ—Å">
            </div>
            <div class="input-group">
                <input type="password" id="login-password" placeholder="–ü–∞—Ä–æ–ª–∞">
            </div>

            <button id="perform-login-btn" class="modal-btn secondary">–í–ª–µ–∑</button>
            <div id="login-error" class="error-msg"></div>
        </div>
    </div>

    <div id="toast-notification" class="toast hidden">
        <span id="toast-icon">üëç</span>
        <span id="toast-message">–°—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ —Ç—É–∫...</span>
    </div>

    <div id="feedback-modal" class="modal-overlay" style="display: none;">
        <div class="modal-box feedback-box">
            <span class="close-modal" id="close-feedback">√ó</span>
            <h2>–ó–∞—â–æ –Ω–µ —Ç–∏ —Ö–∞—Ä–µ—Å–∞ —Ç–æ–∑–∏ –æ—Ç–≥–æ–≤–æ—Ä?</h2>
            <p>–¢–≤–æ–µ—Ç–æ –º–Ω–µ–Ω–∏–µ —â–µ –ø–æ–º–æ–≥–Ω–µ –Ω–∞ ScriptSensei –¥–∞ —Å—Ç–∞–Ω–µ –ø–æ-–¥–æ–±—ä—Ä.</p>

            <form id="feedback-form">
                <label class="checkbox-container">
                    <input type="checkbox" name="reason" value="incorrect"> –ù–µ –µ –≤–µ—Ä–µ–Ω / –ò–º–∞ –≥—Ä–µ—à–∫–∞
                    <span class="checkmark"></span>
                </label>
                <label class="checkbox-container">
                    <input type="checkbox" name="reason" value="vague"> –¢–≤—ä—Ä–¥–µ –µ –æ–±—â / –ù–µ—è—Å–Ω–æ –æ–±—è—Å–Ω–µ–Ω–∏–µ
                    <span class="checkmark"></span>
                </label>
                <label class="checkbox-container">
                    <input type="checkbox" name="reason" value="not-following"> –ù–µ —Å–ª–µ–¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏—Ç–µ –º–∏
                    <span class="checkmark"></span>
                </label>

                <label class="checkbox-container">
                    <input type="checkbox" name="reason" value="other" id="other-checkbox"> –î—Ä—É–≥–æ (–Ω–∞–ø–∏—à–∏ –¥–æ–ª—É)
                    <span class="checkmark"></span>
                </label>

                <textarea id="feedback-details" placeholder="–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –¥–µ—Ç–∞–π–ª–∏..." rows="3" disabled></textarea>

                <button type="submit" id="submit-feedback" class="auth-btn" style="margin-top: 15px;" disabled>
                    –ò–∑–ø—Ä–∞—Ç–∏ Feedback</button>
            </form>
        </div>
    </div>

    <div id="analysis-modal" class="modal-overlay">
        <div class="modal-box analysis-box">
            <span class="close-modal" id="close-analysis">√ó</span>

            <div class="analysis-header">
                <h2>Code Audit Report</h2>
                <div class="score-circle" id="analysis-score">0</div>
            </div>

            <div class="analysis-content">
                <div class="analysis-section">
                    <h3>üõ†Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ: <span id="analysis-quality">-</span></h3>
                    <p id="analysis-summary">–ó–∞—Ä–µ–∂–¥–∞–Ω–µ...</p>
                </div>

                <div class="analysis-section">
                    <h3>‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∏:</h3>
                    <ul id="analysis-issues-list"></ul>
                </div>

                <div class="analysis-section" id="security-section">
                    <h3>üõ°Ô∏è –°–∏–≥—É—Ä–Ω–æ—Å—Ç:</h3>
                    <p id="analysis-security">-</p>
                </div>
            </div>
        </div>
    </div>

    <div id="profile-modal" class="modal-overlay">
        <div class="modal-box profile-box">
            <span class="close-modal" id="close-profile">√ó</span>

            <div class="profile-header">
                <div class="profile-avatar-wrapper">
                    <img id="profile-avatar" src="" alt="Profile">
                    <span class="profile-badge" id="pro-badge" style="display: none;">PRO</span>
                </div>
                <h2 id="profile-name">User Name</h2>
                <p id="profile-email">user@example.com</p>
                <div class="profile-level" id="profile-level">ü•∑ Ninja Level: 1</div>
            </div>

            <div class="profile-stats">
                <div class="stat-item">
                    <span class="stat-value" id="stat-chats">0</span>
                    <span class="stat-label">–ß–∞—Ç–æ–≤–µ</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="stat-date">-</span>
                    <span class="stat-label">–û—Ç –¥–∞—Ç–∞</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">Blaze</span>
                    <span class="stat-label">–ü–ª–∞–Ω</span>
                </div>
            </div>

            <button id="buy-pro-modal" class="modal-btn"
                style="background: linear-gradient(135deg, #FFD700 0%, #FDB931 100%); color: #000; font-weight: bold; margin-top: 15px; margin-bottom: 5px; border: none; box-shadow: 0 4px 15px rgba(253, 185, 49, 0.4);">
                üíé –í–∑–µ–º–∏ PRO (10.00 –ª–≤/–º–µ—Å)
            </button>

            <button id="logout-btn-modal" class="modal-btn" style="background-color: #ff4444; margin-top: 20px;">
                –ò–∑—Ö–æ–¥ –æ—Ç –ø—Ä–æ—Ñ–∏–ª–∞
            </button>
        </div>
    </div>

    <script type="module" src="js/payment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.2/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script type="module" src="js/main.js"></script>
</body>

</html>